#!/usr/bin/env node

// modules
var program = require('commander');
var sh = require('execSync');
var clc = require('cli-color');

// options and arguments
program
  .version('0.0.1')
  .parse(process.argv);

// project specific variables
var config = {
  directory: '/Users/sayanee/Sites/build-podcast/',
  shownotesDir: 'shownotes/',
  postsDir: '_posts/'
}

sh.run('open ' + config.directory + config.shownotesDir + 'start');
sh.run('subl ' + config.directory + config.shownotesDir + 'start/index.html');
sh.run('sudo apachectl start; open http://dev.build-podcast.com');
console.log('Start screen is opened');

var lastAlphabeticalFile = sh.exec('cd ' + config.directory + config.shownotesDir + config.postsDir + '; ls | tail -n 1');
sh.run('open ' + config.directory + config.shownotesDir + config.postsDir + lastAlphabeticalFile.stdout);
console.log(lastAlphabeticalFile.stdout + ' opened for reference');

sh.run('open "/Applications/QuickTime Player.app"');
console.log('QuickTime opened for recording');

sh.run('open "/Applications/Utilities/Audio MIDI Setup.app"');
console.log('Audio Midi opened for mic adjustment');

sh.run('osascript -e \'tell app "System Preferences" to set current pane to pane "fr.madrau.switchresx.prefpane"\'');
console.log('System Preferences opened for screen resolution adjustment');

console.log(clc.red('Ready to record the show!'));
